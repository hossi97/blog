---
weight: 2
title: "버전관리 시스템"
---

# 버전관리 시스템

---

## 버전관리와 백업의 중요성

다음과 같은 상황을 가정해보자.

1. 개발자 A 가 `file1.txt` 를 작업 후 개발자 B 에게 보냈다.
2. 개발자 B 는 개발자 A 에게 이 파일에 대해 수정 요청을 전달했다.
3. 개발자 A 는 `file1.txt` 를 덮어써 수정 후 새로운 `file1.txt` 를 개발자 B 에게 보냈다.
4. 개발자 B 는 이전의 `file1.txt` 가 낫다며, 다시 이전 버전의 파일을 개발자 A 에게 요청했다.

이 때, 개발자 A 와 B 모두 이전의 file1.txt 파일을 백업해놓지 않았다면 어떻게 될까? 이전 파일로 손쉽게 복구할 수 없을 것이다.

이러한 문제로 인해 아래와 같이 버전별로 파일을 백업하고 관리해야 한다.

1. 개발자 A 가 `file1-v1.txt` 를 작업 후 개발자 B 에게 보냈다.
2. 개발자 B 는 개발자 A 에게 이 파일에 대해 수정 요청을 전달했다.
3. 개발자 A 는 `file1-v1.txt` 을 따로 백업하고 수정 후, 새로운 `file1-v2.txt` 를 개발자 B 에게 보냈다.
4. 개발자 B 는 이전의 `file1-v1.txt` 가 낫다며, 다시 이전 버전의 파일을 개발자 A 에게 요청했다.

---

## 효율적인 백업의 필요성

**file-v1.txt**

```
abc
abc
```

**file-v2.txt**

```
abc
dfe
```

위와 같이 버전이 업로드될 때마다 새로운 파일의 형태로 백업하면 어떻게 될까?

-   새로운 파일을 생성해 같은 데이터를 통으로 복사하는 `시간적 비용`이 들 수 있다.
-   경우에 따라 버전이 달라져도 abc 라는 데이터는 그대로 유지되는 경우 중복된 데이터인 `abc` 는 `용량 낭비`를 초래할 것이다.

---

## 버전관리 시스템, VCS (Version Control System)

버전관리 시스템은 버전관리와 비효율적인 백업 문제를 해결해줄 수 있다.

1. 하나의 파일에서 수정을 한다.
2. 수정사항을 체크해 버전을 관리한다. (ex. 수정사항이 생길때 마다 버전을 1씩 증가)
3. 필요에 따라 이전 버전의 데이터로 돌아간다.

### 버전관리 시스템의 문제점

단, 버전관리 시스템에도 문제가 있다.

-   바이러스에 노출되면 파일 전체가 날아갈 수 있다.
-   협업이 불가능하다.

---

## 중앙집중형 버전관리 시스템, CVCS

중앙집중형 버전관리 시스템의 경우, 버전 관리용 중앙 컴퓨터 개념을 도입해 아래와 같은 방식으로 협업이 가능하다.

1. 개발자 A 는 `file1.txt (ver1)` 를 작업한다.
2. `file1.txt (ver1)` 을 중앙 컴퓨터에 업로드한다.
3. 개발자 B 는 C 컴퓨터에 저장된 `file1.txt (ver1)` 를 다운로드해 작업한다.
4. `file1.txt (ver2)` 을 중앙 컴퓨터에 업로드한다.

핵심은 버전에 대한 history 를 로컬에 저장된 파일은 갖고 있지 않다는 점이다.</br>
버전에 대한 history 는 중앙 컴퓨터에서 관리하는 파일만 갖고 있다.

### 중앙집중형 버전관리 시스템의 문제점

하지만 CVCS 에도 문제점이 있는데,

-   협업 시, 소통을 원할히 하지 않으면 수정된 데이터가 날아갈 수 있다. </br> 예를 들어, `file1.txt (ver2)` 가 업로드된 것을 모르고 개발자 A가 `file1.txt (ver1)` 을 재업로드할 수 있다.

-   중앙 컴퓨터 혹은 컴퓨터에 저장된 파일에 바이러스가 걸리면 파일 전체가 날아갈 수 있다.

---

## 분산형 버전관리 시스템, DVCS

중앙집중형 버전관리 시스템이 버전에 대한 history 를 중앙 컴퓨터에 저장된 파일만 갖고 것과 달리,</br>
분산형 버전관리 시스템은 로컬에 저장된 파일도 history 를 갖고 있다.

이런 방식을 채택하면 중앙 저장소에 있는 파일에 문제가 생기더라도 여러 작업자가 history 를 유지한 파일을 갖고 있기 때문에 파일의 보존이 가능해진다.
